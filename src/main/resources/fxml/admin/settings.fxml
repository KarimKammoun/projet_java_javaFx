<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.libraryms.controller.admin.SettingsController"
      style="-fx-background-color: #f0f4f8;" spacing="20">

    <padding><Insets top="20" right="40" bottom="20" left="40"/></padding>

    <!-- Header Section -->
    <HBox spacing="20" alignment="CENTER_LEFT" styleClass="header" style="-fx-background-color: white; -fx-padding: 20; -fx-border-radius: 8; -fx-border-color: #e5e7eb; -fx-border-width: 1;">
        <VBox spacing="4" HBox.hgrow="ALWAYS">
            <Label text="âš™ï¸ Settings" styleClass="header-title"/>
            <Label text="Configure library system parameters" style="-fx-text-fill: #6b7280; -fx-font-size: 13;"/>
        </VBox>
    </HBox>

    <!-- Settings Cards -->
    <VBox spacing="16" VBox.vgrow="ALWAYS">
        
        <!-- Library Configuration -->
        <VBox spacing="12" styleClass="card" style="-fx-padding: 20;">
            <Label text="ðŸ“š Library Configuration" styleClass="card-title"/>
            
            <GridPane hgap="20" vgap="12" style="-fx-padding: 10;">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS" prefWidth="250"/>
                </columnConstraints>

                <Label text="Library Name" GridPane.rowIndex="0" GridPane.columnIndex="0"
                        style="-fx-text-fill: #374151; -fx-font-weight: 600; -fx-font-size: 13;"/>
                <TextField fx:id="libraryNameField" text="LibraryMS" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           style="-fx-padding: 10 12; -fx-font-size: 13;" prefWidth="300"/>

                <Label text="Borrow Duration (days)" GridPane.rowIndex="1" GridPane.columnIndex="0"
                        style="-fx-text-fill: #374151; -fx-font-weight: 600; -fx-font-size: 13;"/>
                <TextField fx:id="borrowDurationField" text="14" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           style="-fx-padding: 10 12; -fx-font-size: 13;" prefWidth="100"/>

                <Label text="Fine per Day (TND)" GridPane.rowIndex="2" GridPane.columnIndex="0"
                        style="-fx-text-fill: #374151; -fx-font-weight: 600; -fx-font-size: 13;"/>
                <TextField fx:id="finePerDayField" text="2.0" GridPane.rowIndex="2" GridPane.columnIndex="1"
                           style="-fx-padding: 10 12; -fx-font-size: 13;" prefWidth="100"/>
            </GridPane>
        </VBox>

        <!-- Borrowing Limits -->
        <VBox spacing="12" styleClass="card" style="-fx-padding: 20;">
            <Label text="ðŸ‘¥ Borrowing Limits" styleClass="card-title"/>
            
            <GridPane hgap="20" vgap="12" style="-fx-padding: 10;">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS" prefWidth="250"/>
                </columnConstraints>

                <Label text="Standard Members Limit" GridPane.rowIndex="0" GridPane.columnIndex="0"
                        style="-fx-text-fill: #374151; -fx-font-weight: 600; -fx-font-size: 13;"/>
                <TextField fx:id="standardLimitField" text="3" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           style="-fx-padding: 10 12; -fx-font-size: 13;" prefWidth="100"/>

                <Label text="Premium Members Limit" GridPane.rowIndex="1" GridPane.columnIndex="0"
                        style="-fx-text-fill: #374151; -fx-font-weight: 600; -fx-font-size: 13;"/>
                <TextField fx:id="premiumLimitField" text="5" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           style="-fx-padding: 10 12; -fx-font-size: 13;" prefWidth="100"/>
            </GridPane>

            <HBox spacing="12" style="-fx-padding: 10;">
                <Button text="ðŸ’¾ Save Settings" styleClass="btn-primary" style="-fx-padding: 10 20; -fx-font-size: 13;" onAction="#saveSettings"/>
            </HBox>
        </VBox>

        <!-- Database Section -->
        <VBox spacing="12" styleClass="card" style="-fx-padding: 20;">
            <Label text="ðŸ’¾ Database Management" styleClass="card-title"/>
            <Label text="Backup and restore your library data" styleClass="card-subtitle"/>
            
            <HBox spacing="12" style="-fx-padding: 10;">
                <Button fx:id="importBtn" text="ðŸ“¥ Import Data" styleClass="btn-primary" style="-fx-padding: 10 20; -fx-font-size: 13;" onAction="#importData"/>
                <Button fx:id="exportBtn" text="ðŸ“¤ Export Data" styleClass="btn-secondary" style="-fx-padding: 10 20; -fx-font-size: 13;" onAction="#exportData"/>
            </HBox>
        </VBox>

    </VBox>

</VBox>